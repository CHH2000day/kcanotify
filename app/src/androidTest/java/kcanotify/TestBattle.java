package kcanotify;

import android.support.test.filters.SmallTest;
import android.support.test.runner.AndroidJUnit4;

import com.antest1.kcanotify.KcaBattle;

import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;

@RunWith(AndroidJUnit4.class)
@SmallTest
public class TestBattle {
    @Before
    public void setUp() {

    }

    @Test
    public void test() throws ParseException {
        JSONParser p = new JSONParser();
        //String api_data_str = "{\"api_dock_id\":1,\"api_ship_ke\":[-1,573,550,551,567,577,577],\"api_ship_lv\":[-1,1,1,1,1,1,1],\"api_nowhps\":[-1,53,88,79,69,51,63,380,66,66,130,38,38],\"api_maxhps\":[-1,56,88,79,78,59,63,380,66,66,130,38,38],\"api_midnight_flag\":1,\"api_eSlot\":[[521,524,517,517,-1],[505,520,517,-1,-1],[505,520,517,-1,-1],[509,509,529,526,-1],[502,515,542,-1,-1],[502,515,542,-1,-1]],\"api_eKyouka\":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],\"api_fParam\":[[80,88,80,78],[53,0,93,83],[65,0,90,84],[70,0,88,83],[77,82,82,79],[75,84,60,82]],\"api_eParam\":[[100,0,150,135],[55,45,20,50],[55,45,20,50],[110,0,88,110],[44,72,36,29],[44,72,36,29]],\"api_search\":[1,2],\"api_formation\":[1,1,1],\"api_injection_kouku\":{\"api_plane_from\":[[4],[-1]],\"api_stage1\":{\"api_f_count\":23,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage2\":{\"api_f_count\":23,\"api_f_lostcount\":3,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_fbak_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,1,0,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,25,0,0,0]}},\"api_stage_flag\":[1,1,1],\"api_kouku\":{\"api_plane_from\":[[2,3,4,5],[1,2,3]],\"api_stage1\":{\"api_f_count\":210,\"api_f_lostcount\":1,\"api_e_count\":460,\"api_e_lostcount\":220,\"api_disp_seiku\":1,\"api_touch_plane\":[144,-1]},\"api_stage2\":{\"api_f_count\":116,\"api_f_lostcount\":9,\"api_e_count\":190,\"api_e_lostcount\":37},\"api_stage3\":{\"api_frai_flag\":[-1,1,0,0,0,0,1],\"api_erai_flag\":[-1,0,1,0,1,0,1],\"api_fbak_flag\":[-1,0,0,0,1,0,0],\"api_ebak_flag\":[-1,1,0,0,0,1,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,1,0],\"api_fdam\":[-1,0,0,0,0,0,5],\"api_edam\":[-1,60,95,0,0,113,0]}},\"api_support_flag\":0,\"api_support_info\":null,\"api_opening_taisen_flag\":0,\"api_opening_taisen\":null,\"api_opening_flag\":0,\"api_opening_atack\":null,\"api_hourai_flag\":[1,1,0,1],\"api_hougeki1\":{\"api_at_list\":[-1,4,10,6,7,1,3,5],\"api_at_type\":[-1,0,0,2,0,2,0,0],\"api_df_list\":[-1,[9],[5],[10,10],[2],[7,7],[12],[10]],\"api_si_list\":[-1,[-1],[509],[123,123],[-1],[50,90],[-1],[90]],\"api_cl_list\":[-1,[2],[1],[1,1],[1],[2,1],[1],[1]],\"api_damage\":[-1,[196],[39],[13,5],[80],[136,49],[98],[14]]},\"api_hougeki2\":{\"api_at_list\":[-1,1,10,3,4,5,6],\"api_at_type\":[-1,0,0,0,0,0,2],\"api_df_list\":[-1,[7],[5],[10],[10],[7],[10,10]],\"api_si_list\":[-1,[50],[509],[-1],[-1],[90],[123,123]],\"api_cl_list\":[-1,[1],[2],[1],[1],[1],[1,2]],\"api_damage\":[-1,[42],[6],[23],[31],[8],[25,31]]},\"api_hougeki3\":null,\"api_raigeki\":{\"api_frai\":[-1,0,0,0,0,0,0],\"api_erai\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0],\"api_fydam\":[-1,0,0,0,0,0,0],\"api_eydam\":[-1,0,0,0,0,0,0],\"api_fcl\":[-1,0,0,0,0,0,0],\"api_ecl\":[-1,0,0,0,0,0,0]}}";
        String api_data_str = "{\"api_deck_id\":\"1\",\"api_ship_ke\":[706,697,617,578,576,576],\"api_ship_lv\":[-1,1,1,1,1,1,1],\"api_nowhps\":[-1,79,97,66,66,62,68,430,450,160,40,37,37],\"api_maxhps\":[-1,79,97,90,70,79,78,430,450,160,40,37,37],\"api_nowhps_combined\":[-1,40,86,43,26,15,56],\"api_maxhps_combined\":[-1,45,92,43,31,31,56],\"api_midnight_flag\":1,\"api_eSlot\":[[563,563,515,564,-1],[509,509,512,0,-1],[556,548,558,549,-1],[502,515,542,-1,-1],[502,545,542,-1,-1],[502,545,542,-1,-1]],\"api_eKyouka\":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],\"api_fParam\":[[49,0,79,79],[139,0,99,119],[99,0,99,98],[59,0,86,84],[65,0,90,84],[70,0,88,83]],\"api_eParam\":[[140,82,79,169],[185,0,84,158],[40,0,90,120],[48,84,38,33],[38,66,32,26],[38,66,32,26]],\"api_fParam_combined\":[[56,94,78,68],[115,0,120,107],[63,139,49,63],[73,93,59,52],[59,88,78,50],[80,88,80,78]],\"api_xal01\":1,\"api_search\":[1,1],\"api_formation\":[\"14\",1,1],\"api_stage_flag\":[1,1,1],\"api_kouku\":{\"api_plane_from\":[[1,4,5,6],[9]],\"api_stage1\":{\"api_f_count\":210,\"api_f_lostcount\":0,\"api_e_count\":144,\"api_e_lostcount\":76,\"api_disp_seiku\":1,\"api_touch_plane\":[94,-1]},\"api_stage2\":{\"api_f_count\":113,\"api_f_lostcount\":14,\"api_e_count\":50,\"api_e_lostcount\":2},\"api_stage3\":{\"api_frai_flag\":[-1,0,0,0,0,1,0],\"api_erai_flag\":[-1,0,1,1,1,1,1],\"api_fbak_flag\":[-1,0,0,0,1,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,1,0,1,0],\"api_fdam\":[-1,0,0,0,5,6.1,0],\"api_edam\":[-1,0,80.1,184,0.1,58.1,74]},\"api_stage3_combined\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_fbak_flag\":[-1,0,0,0,0,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0]}},\"api_support_flag\":0,\"api_support_info\":null,\"api_opening_taisen_flag\":0,\"api_opening_taisen\":null,\"api_opening_flag\":1,\"api_opening_atack\":{\"api_frai\":[-1,2,0,2,0,0,0],\"api_erai\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,75,0,0,0,0],\"api_fydam\":[-1,47,0,28,0,0,0],\"api_eydam\":[-1,0,0,0,0,0,0],\"api_fcl\":[-1,1,0,1,0,0,0],\"api_ecl\":[-1,0,0,0,0,0,0]},\"api_hourai_flag\":[1,1,1,1],\"api_hougeki1\":{\"api_at_list\":[-1,2,7,6,8,3,1,5,4],\"api_at_type\":[-1,0,0,0,0,0,0,0,0],\"api_df_list\":[-1,[10],[2],[7],[3],[8],[8],[7],[8]],\"api_si_list\":[-1,[161],[563],[-1],[509],[134],[-1],[122],[63]],\"api_cl_list\":[-1,[1],[2],[1],[1],[1],[0],[0],[0]],\"api_damage\":[-1,[84.1],[64],[4],[28],[21],[0],[0],[0]]},\"api_raigeki\":{\"api_frai\":[-1,2,0,0,1,0,2],\"api_erai\":[-1,4,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,16,0,0],\"api_edam\":[-1,53,27,0,0,0,0],\"api_fydam\":[-1,23,0,0,53,0,4],\"api_eydam\":[-1,16,0,0,0,0,0],\"api_fcl\":[-1,1,0,0,1,0,1],\"api_ecl\":[-1,1,0,0,0,0,0]},\"api_hougeki2\":{\"api_at_list\":[-1,2,7,3,8,6,5,4,1],\"api_at_type\":[-1,6,0,2,0,0,0,0,0],\"api_df_list\":[-1,[7],[5],[8,8],[3],[8],[8],[7],[8]],\"api_si_list\":[-1,[59,9,161],[563],[128,105],[509],[-1],[-1],[-1],[-1]],\"api_cl_list\":[-1,[1],[1],[1,1],[0],[1],[1],[1],[1]],\"api_damage\":[-1,[100],[29],[47,61],[0],[30],[6],[27],[11]]},\"api_hougeki3\":{\"api_at_list\":[-1,1,7,2,3,4,5],\"api_at_type\":[-1,0,0,6,6,0,0],\"api_df_list\":[-1,[8],[6],[8],[7],[7],[7]],\"api_si_list\":[-1,[-1],[563],[59,9,161],[59,128,105],[-1],[-1]],\"api_cl_list\":[-1,[1],[1],[1],[1],[1],[1]],\"api_damage\":[-1,[17],[49],[76],[100],[16],[25]]}}";
        JSONObject api_data = (JSONObject) p.parse(api_data_str);
        KcaBattle.processData(KcaBattle.API_REQ_COMBINED_BATTLE, api_data);
    }

}
