package kcanotify;

import android.support.test.filters.SmallTest;
import android.support.test.runner.AndroidJUnit4;

import com.antest1.kcanotify.KcaBattle;
import com.google.gson.JsonObject;
import com.google.gson.JsonParser;

import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;

@RunWith(AndroidJUnit4.class)
@SmallTest
public class TestBattle {
    @Before
    public void setUp() {

    }

    @Test
    public void test() {
        String api_data_str = "{\"api_dock_id\":1,\"api_ship_ke\":[-1,573,550,551,567,577,577],\"api_ship_lv\":[-1,1,1,1,1,1,1],\"api_nowhps\":[-1,53,88,79,69,51,63,380,66,66,130,38,38],\"api_maxhps\":[-1,56,88,79,78,59,63,380,66,66,130,38,38],\"api_midnight_flag\":1,\"api_eSlot\":[[521,524,517,517,-1],[505,520,517,-1,-1],[505,520,517,-1,-1],[509,509,529,526,-1],[502,515,542,-1,-1],[502,515,542,-1,-1]],\"api_eKyouka\":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],\"api_fParam\":[[80,88,80,78],[53,0,93,83],[65,0,90,84],[70,0,88,83],[77,82,82,79],[75,84,60,82]],\"api_eParam\":[[100,0,150,135],[55,45,20,50],[55,45,20,50],[110,0,88,110],[44,72,36,29],[44,72,36,29]],\"api_search\":[1,2],\"api_formation\":[1,1,1],\"api_injection_kouku\":{\"api_plane_from\":[[4],[-1]],\"api_stage1\":{\"api_f_count\":23,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage2\":{\"api_f_count\":23,\"api_f_lostcount\":3,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_fbak_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,1,0,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,25,0,0,0]}},\"api_stage_flag\":[1,1,1],\"api_kouku\":{\"api_plane_from\":[[2,3,4,5],[1,2,3]],\"api_stage1\":{\"api_f_count\":210,\"api_f_lostcount\":1,\"api_e_count\":460,\"api_e_lostcount\":220,\"api_disp_seiku\":1,\"api_touch_plane\":[144,-1]},\"api_stage2\":{\"api_f_count\":116,\"api_f_lostcount\":9,\"api_e_count\":190,\"api_e_lostcount\":37},\"api_stage3\":{\"api_frai_flag\":[-1,1,0,0,0,0,1],\"api_erai_flag\":[-1,0,1,0,1,0,1],\"api_fbak_flag\":[-1,0,0,0,1,0,0],\"api_ebak_flag\":[-1,1,0,0,0,1,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,1,0],\"api_fdam\":[-1,0,0,0,0,0,5],\"api_edam\":[-1,60,95,0,0,113,0]}},\"api_support_flag\":0,\"api_support_info\":null,\"api_opening_taisen_flag\":0,\"api_opening_taisen\":null,\"api_opening_flag\":0,\"api_opening_atack\":null,\"api_hourai_flag\":[1,1,0,1],\"api_hougeki1\":{\"api_at_list\":[-1,4,10,6,7,1,3,5],\"api_at_type\":[-1,0,0,2,0,2,0,0],\"api_df_list\":[-1,[9],[5],[10,10],[2],[7,7],[12],[10]],\"api_si_list\":[-1,[-1],[509],[123,123],[-1],[50,90],[-1],[90]],\"api_cl_list\":[-1,[2],[1],[1,1],[1],[2,1],[1],[1]],\"api_damage\":[-1,[196],[39],[13,5],[80],[136,49],[98],[14]]},\"api_hougeki2\":{\"api_at_list\":[-1,1,10,3,4,5,6],\"api_at_type\":[-1,0,0,0,0,0,2],\"api_df_list\":[-1,[7],[5],[10],[10],[7],[10,10]],\"api_si_list\":[-1,[50],[509],[-1],[-1],[90],[123,123]],\"api_cl_list\":[-1,[1],[2],[1],[1],[1],[1,2]],\"api_damage\":[-1,[42],[6],[23],[31],[8],[25,31]]},\"api_hougeki3\":null,\"api_raigeki\":{\"api_frai\":[-1,0,0,0,0,0,0],\"api_erai\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0],\"api_fydam\":[-1,0,0,0,0,0,0],\"api_eydam\":[-1,0,0,0,0,0,0],\"api_fcl\":[-1,0,0,0,0,0,0],\"api_ecl\":[-1,0,0,0,0,0,0]}}";
        // 6-5 Day String api_data_str = "{\"api_result\":1,\"api_result_msg\":\"\\u6210\\u529f\",\"api_data\":{\"api_deck_id\":1,\"api_ship_ke\":[-1,586,615,615,592,578,578],\"api_ship_ke_combined\":[-1,555,527,527,577,576,576],\"api_ship_lv\":[-1,1,1,1,1,1,1],\"api_ship_lv_combined\":[-1,1,1,1,1,1,1],\"api_nowhps\":[-1,18,71,79,67,39,43,350,96,96,66,40,40],\"api_maxhps\":[-1,37,92,88,78,58,43,350,96,96,66,40,40],\"api_nowhps_combined\":[-1,-1,-1,-1,-1,-1,-1,57,76,76,38,37,37],\"api_maxhps_combined\":[-1,-1,-1,-1,-1,-1,-1,57,76,76,38,37,37],\"api_eSlot\":[[547,548,549,532,-1],[556,557,558,558,-1],[556,557,558,558,-1],[550,550,545,525,-1],[502,515,542,-1,-1],[502,515,542,-1,-1]],\"api_eSlot_combined\":[[506,525,542,543,-1],[505,506,515,525,-1],[505,506,515,525,-1],[502,515,542,-1,-1],[502,545,542,-1,-1],[502,545,542,-1,-1]],\"api_fParam\":[[58,56,114,52],[115,0,120,107],[53,0,93,83],[70,0,88,83],[77,83,83,79],[63,139,49,63]],\"api_eParam\":[[180,0,130,150],[25,0,50,80],[25,0,50,80],[64,92,96,68],[48,84,38,33],[48,84,38,33]],\"api_eParam_combined\":[[48,80,30,39],[68,48,40,70],[68,48,40,70],[44,72,36,29],[38,66,32,26],[38,66,32,26]],\"api_midnight_flag\":1,\"api_search\":[1,1],\"api_formation\":[\"1\",13,1],\"api_injection_kouku\":{\"api_plane_from\":[[4],[-1]],\"api_stage1\":{\"api_f_count\":20,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage2\":{\"api_f_count\":20,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_fbak_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0]},\"api_stage3_combined\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_fbak_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,1,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,1,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,52,0]}},\"api_air_base_attack\":[{\"api_base_id\":1,\"api_stage_flag\":[1,1,1],\"api_plane_from\":[[1,2,3,4,7,8,9]],\"api_squadron_plane\":[{\"api_mst_id\":22,\"api_count\":17},{\"api_mst_id\":22,\"api_count\":18},{\"api_mst_id\":22,\"api_count\":18},{\"api_mst_id\":180,\"api_count\":18}],\"api_stage1\":{\"api_f_count\":71,\"api_f_lostcount\":14,\"api_e_count\":373,\"api_e_lostcount\":102,\"api_disp_seiku\":0,\"api_touch_plane\":[-1,-1]},\"api_stage2\":{\"api_f_count\":15,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0]},\"api_stage3_combined\":{\"api_erai_flag\":[-1,0,0,1,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,45,0,0,0]}},{\"api_base_id\":1,\"api_stage_flag\":[1,1,1],\"api_plane_from\":[[1,2,3,4,7,8,9]],\"api_squadron_plane\":[{\"api_mst_id\":22,\"api_count\":17},{\"api_mst_id\":22,\"api_count\":18},{\"api_mst_id\":22,\"api_count\":18},{\"api_mst_id\":180,\"api_count\":18}],\"api_stage1\":{\"api_f_count\":71,\"api_f_lostcount\":16,\"api_e_count\":271,\"api_e_lostcount\":96,\"api_disp_seiku\":0,\"api_touch_plane\":[-1,-1]},\"api_stage2\":{\"api_f_count\":14,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0]},\"api_stage3_combined\":{\"api_erai_flag\":[-1,1,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0]}},{\"api_base_id\":2,\"api_stage_flag\":[1,1,1],\"api_plane_from\":[[1,2,3,4,7,8,9]],\"api_squadron_plane\":[{\"api_mst_id\":22,\"api_count\":18},{\"api_mst_id\":53,\"api_count\":18},{\"api_mst_id\":186,\"api_count\":18},{\"api_mst_id\":187,\"api_count\":18}],\"api_stage1\":{\"api_f_count\":72,\"api_f_lostcount\":11,\"api_e_count\":175,\"api_e_lostcount\":43,\"api_disp_seiku\":0,\"api_touch_plane\":[-1,-1]},\"api_stage2\":{\"api_f_count\":31,\"api_f_lostcount\":0,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_erai_flag\":[-1,0,0,1,1,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,31,104,0,0]},\"api_stage3_combined\":{\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0]}},{\"api_base_id\":2,\"api_stage_flag\":[1,1,1],\"api_plane_from\":[[1,2,3,7,8,9]],\"api_squadron_plane\":[{\"api_mst_id\":22,\"api_count\":18},{\"api_mst_id\":53,\"api_count\":18},{\"api_mst_id\":186,\"api_count\":18},{\"api_mst_id\":187,\"api_count\":18}],\"api_stage1\":{\"api_f_count\":72,\"api_f_lostcount\":11,\"api_e_count\":130,\"api_e_lostcount\":28,\"api_disp_seiku\":0,\"api_touch_plane\":[-1,-1]},\"api_stage2\":{\"api_f_count\":30,\"api_f_lostcount\":13,\"api_e_count\":0,\"api_e_lostcount\":0},\"api_stage3\":{\"api_erai_flag\":[-1,0,1,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,7,0,0,0,0]},\"api_stage3_combined\":{\"api_erai_flag\":[-1,0,1,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,92,0,0,0,0]}}],\"api_stage_flag\":[1,1,1],\"api_kouku\":{\"api_plane_from\":[[3,4,5],[1,2,3]],\"api_stage1\":{\"api_f_count\":149,\"api_f_lostcount\":2,\"api_e_count\":97,\"api_e_lostcount\":41,\"api_disp_seiku\":1,\"api_touch_plane\":[-1,-1]},\"api_stage2\":{\"api_f_count\":47,\"api_f_lostcount\":0,\"api_e_count\":35,\"api_e_lostcount\":34,\"api_air_fire\":{\"api_idx\":0,\"api_kind\":1,\"api_use_items\":[122,122,106]}},\"api_stage3\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_erai_flag\":[-1,0,0,0,0,0,1],\"api_fbak_flag\":[-1,0,0,0,0,0,1],\"api_ebak_flag\":[-1,0,0,0,0,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0.1],\"api_edam\":[-1,0,0,0,0,0,0]},\"api_stage3_combined\":{\"api_frai_flag\":[-1,0,0,0,0,0,0],\"api_erai_flag\":[-1,0,0,0,0,0,0],\"api_fbak_flag\":[-1,0,0,0,0,0,0],\"api_ebak_flag\":[-1,0,0,0,1,0,0],\"api_fcl_flag\":[-1,0,0,0,0,0,0],\"api_ecl_flag\":[-1,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,0,0]}},\"api_support_flag\":0,\"api_support_info\":null,\"api_opening_taisen_flag\":0,\"api_opening_taisen\":null,\"api_opening_flag\":1,\"api_opening_atack\":{\"api_frai\":[-1,0,0,0,0,0,5,0,0,0,0,0,0],\"api_erai\":[-1,0,0,0,0,0,0,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0,0,0,0,0,0,0],\"api_edam\":[-1,0,0,0,0,150,0,0,0,0,0,0,0],\"api_fydam\":[-1,0,0,0,0,0,150,0,0,0,0,0,0],\"api_eydam\":[-1,0,0,0,0,0,0,0,0,0,0,0,0],\"api_fcl\":[-1,0,0,0,0,0,2,0,0,0,0,0,0],\"api_ecl\":[-1,0,0,0,0,0,0,0,0,0,0,0,0]},\"api_hourai_flag\":[1,1,1,1],\"api_hougeki1\":{\"api_at_eflag\":[-1,0,1,0,0,0,1,0,0],\"api_at_list\":[-1,2,7,4,5,6,10,3,1],\"api_at_type\":[-1,0,0,0,0,0,0,0,0],\"api_df_list\":[-1,[9],[4],[12],[7],[7],[4],[10],[10]],\"api_si_list\":[-1,[161],[506],[-1],[50],[-1],[502],[-1],[122]],\"api_cl_list\":[-1,[2],[1],[1],[1],[1],[0],[0],[2]],\"api_damage\":[-1,[127],[7],[96],[45],[27],[0],[0],[39]]},\"api_raigeki\":{\"api_frai\":[-1,0,0,0,0,6,3,0,0,0,0,0,0],\"api_erai\":[-1,0,0,0,0,0,0,0,0,0,0,0,0],\"api_fdam\":[-1,0,0,0,0,0,0,0,0,0,0,0,0],\"api_edam\":[-1,0,0,101,0,0,50,0,0,0,0,0,0],\"api_fydam\":[-1,0,0,0,0,50,101,0,0,0,0,0,0],\"api_eydam\":[-1,0,0,0,0,0,0,0,0,0,0,0,0],\"api_fcl\":[-1,0,0,0,0,1,2,0,0,0,0,0,0],\"api_ecl\":[-1,0,0,0,0,0,0,0,0,0,0,0,0]},\"api_hougeki2\":{\"api_at_eflag\":[-1,0,1,0,0,0,0,0],\"api_at_list\":[-1,4,1,2,5,6,3,1],\"api_at_type\":[-1,0,0,6,0,0,0,0],\"api_df_list\":[-1,[2],[3],[2],[1],[1],[1],[1]],\"api_si_list\":[-1,[-1],[-1],[\"102\",\"161\",\"161\"],[50],[-1],[-1],[122]],\"api_cl_list\":[-1,[0],[0],[1],[0],[2],[1],[1]],\"api_damage\":[-1,[0.1],[0],[122.1],[0],[25],[2],[41]]},\"api_hougeki3\":{\"api_at_eflag\":[-1,0,1,0,0,0,0,0],\"api_at_list\":[-1,1,1,2,3,4,5,6],\"api_at_type\":[-1,0,0,2,0,0,0,0],\"api_df_list\":[-1,[1],[4],[1,1],[1],[1],[1],[1]],\"api_si_list\":[-1,[122],[-1],[\"161\",\"161\"],[-1],[-1],[50],[-1]],\"api_cl_list\":[-1,[2],[0],[1,1],[0],[1],[0],[0]],\"api_damage\":[-1,[32],[0],[7,41],[0],[26],[0],[0]]}}}";
        // 6-5 Nighit
        //String api_data_str = "{\"api_result\":1,\"api_result_msg\":\"\\u6210\\u529f\",\"api_data\":{\"api_active_deck\":[1,1],\"api_deck_id\":1,\"api_ship_ke\":[-1,586,615,615,592,578,578],\"api_ship_ke_combined\":[-1,555,527,527,577,576,576],\"api_ship_lv\":[-1,1,1,1,1,1,1],\"api_ship_lv_combined\":[-1,1,1,1,1,1,1],\"api_nowhps\":[-1,18,71,79,60,39,43,176,0,0,0,0,0],\"api_maxhps\":[-1,37,92,88,78,58,43,350,96,96,66,40,40],\"api_nowhps_combined\":[-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0],\"api_maxhps_combined\":[-1,-1,-1,-1,-1,-1,-1,57,76,76,38,37,37],\"api_eSlot\":[[547,548,549,532,-1],[556,557,558,558,-1],[556,557,558,558,-1],[550,550,545,525,-1],[502,515,542,-1,-1],[502,515,542,-1,-1]],\"api_eSlot_combined\":[[506,525,542,543,-1],[505,506,515,525,-1],[505,506,515,525,-1],[502,515,542,-1,-1],[502,545,542,-1,-1],[502,545,542,-1,-1]],\"api_fParam\":[[58,56,114,52],[115,0,120,107],[53,0,93,83],[70,0,88,83],[77,83,83,79],[63,139,49,63]],\"api_eParam\":[[180,0,130,150],[25,0,50,80],[25,0,50,80],[64,92,96,68],[48,84,38,33],[48,84,38,33]],\"api_eParam_combined\":[[48,80,30,39],[68,48,40,70],[68,48,40,70],[44,72,36,29],[38,66,32,26],[38,66,32,26]],\"api_touch_plane\":[\"102\",-1],\"api_flare_pos\":[-1,-1],\"api_hougeki\":{\"api_at_list\":[-1,1,7,2,6],\"api_df_list\":[-1,[7,7],[5],[7,7],[7,7]],\"api_si_list\":[-1,[\"122\",\"122\"],[-1],[\"161\",\"161\"],[\"179\",\"179\"]],\"api_cl_list\":[-1,[1,1],[1],[1,1],[1,1]],\"api_sp_list\":[-1,1,0,1,3],\"api_damage\":[-1,[12,11],[25],[59,49],[112,138]]}}}";
        JsonObject api_data = new JsonParser().parse(api_data_str).getAsJsonObject();

        KcaBattle.processData(KcaBattle.API_REQ_SORTIE_BATTLE, api_data);
    }

}
